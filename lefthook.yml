# lefthook.yml
pre-commit:
  parallel: true
  commands:
    lint:
      # Se nÃ£o tiver o golangci-lint instalado, ele avisa ou tenta rodar go vet
      run: golangci-lint run ./... || go vet ./...
    test:
      run: go test -short ./...

commit-msg:
  commands:
    lint-commit-msg:
      # Regex entre aspas simples para evitar erro de parser
      run: grep -qE '^(feat|fix|docs|style|refactor|perf|test|build|ci|chore|revert)(\(.+\))?: .+' {1}
      errorMessage: "ğŸš¨ Mensagem invÃ¡lida! PadrÃ£o: 'feat: add new endpoint' ou 'fix(db): correct migration'"